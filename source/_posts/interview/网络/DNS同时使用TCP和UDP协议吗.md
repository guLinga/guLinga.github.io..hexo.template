---
title: DNS同时使用TCP和UDP协议吗?
date: 2022-11-23
categories: 
- 面试准备
- 网络
tag:
- 网络
- DNS
---

## DNS同时使用TCP和UDP协议吗?
DNS服务器占用的53端口，同时使用TCP和UDP协议。

在进行区域传输的时候使用DNS协议，在进行域名解析的时候使用UDP协议。

1. 使用TCP协议
辅域名服务器会定期的向主域名服务器查询数据是否变动，如果变动就是进行一次区域传输，来同步数据，此时的区域传输就是使用的TCP协议。
TCP是一种可靠的连接，确保了数据的准确性。

2. 使用UDP协议
客户端向DNS服务端发送查询域名，服务端返回的信息一般不会超过512字节，所以使用UDP协议，UDP协议不需要三次握手，所以服务器压力更小，响应快。理论上客户端也可以指定DNS服务器查询域名的时候使用TCP，但是实际上有的DNS服务器已经配置了仅支持UDP查询。